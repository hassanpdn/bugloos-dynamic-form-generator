import{d as f,_ as u,o as s,c as r,a as n,F as h,r as p,t as d,b as g,e as _}from"./index-93ae1047.js";const x=f({name:"table-component",props:{items:{type:Object,default:{}}},methods:{handleAction(e){this.$emit("handleAction",e)}}}),k={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},$={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},I={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},S={scope:"row",class:"text-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},w={class:"text-center px-6 py-4"},v={class:"flex justify-center text-center px-6 py-4"},A=["onClick"],C={key:1,class:"mr-5"};function N(e,t,a,l,m,y){return s(),r("div",k,[n("table",$,[n("thead",I,[n("tr",null,[(s(!0),r(h,null,p(e.items.headers,(o,i)=>(s(),r("th",{key:`header-${i}`,scope:"col",class:"text-center px-6 py-3"},d(o||"- - -"),1))),128))])]),n("tbody",null,[(s(!0),r(h,null,p(e.items.body,(o,i)=>(s(),r("tr",{key:`item-${i}`,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[n("th",S,d(o.title||"- - -"),1),n("td",w,d(o.role||"- - -"),1),n("td",v,[o.actions.length?(s(!0),r(h,{key:0},p(o.actions,(c,b)=>(s(),r("a",{onClick:E=>e.handleAction({item:o,action:c}),key:`action-${b}`,href:"#",class:"font-medium mr-5 text-blue-600 dark:text-blue-500 hover:underline"},d(c||"- - -"),9,A))),128)):(s(),r("span",C,"- - -"))])]))),128))])])])}const T=u(x,[["render",N]]),F=f({name:"form-list",components:{Table:T},data(){return{items:{headers:[],body:[]}}},methods:{setTableInfo(){if(localStorage.getItem("form")){const e=JSON.parse(localStorage.getItem("form"));this.items.headers=["title","role","actions"],this.items.body=e.map(t=>{let a={title:t.title,role:t.role,id:t.id,actions:[]};return t.isEditable&&a.actions.push("Edit"),t.isDeletable&&a.actions.push("Delete"),a})}else this.items.headers=[],this.items.body=[]},handleAction(e){const{item:t,action:a}=e;if(a==="Edit")this.emitter.emit("setCurrentItem","Create"),localStorage.setItem("currentFormId",t.id);else{let l=JSON.parse(localStorage.getItem("form"));l=l.filter(m=>m.id!==t.id),localStorage.setItem("form",JSON.stringify(l)),!l.length&&localStorage.removeItem("form"),this.setTableInfo()}}},mounted(){this.emitter.emit("setFormName",""),this.setTableInfo()}}),j={key:1,class:"no-forms w-full border-dashed border-gray-300 rounded p-10 flex justify-center border-2"};function B(e,t,a,l,m,y){var i,c;const o=_("Table");return(c=(i=e.items)==null?void 0:i.headers)!=null&&c.length?(s(),g(o,{key:0,onHandleAction:e.handleAction,items:e.items},null,8,["onHandleAction","items"])):(s(),r("section",j," No Forms. "))}const D=u(F,[["render",B]]);export{D as default};
